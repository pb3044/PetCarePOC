@using Microsoft.AspNetCore.Identity  
@using PetCarePlatform.Core.Models
@inject SignInManager<ApplicationUser> SignInManager  
@inject UserManager<ApplicationUser> UserManager  

<ul class="navbar-nav">  
@if (SignInManager.IsSignedIn(User))  
{  
    <li class="nav-item dropdown">  
        <a class="nav-link dropdown-toggle" href="#" id="notificationDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">  
            <i class="bi bi-bell"></i>  
            <span class="badge bg-danger notification-badge">3</span>  
        </a>  
        <ul class="dropdown-menu dropdown-menu-end notification-dropdown" aria-labelledby="notificationDropdown">  
            <li><h6 class="dropdown-header">Notifications</h6></li>  
            <li><hr class="dropdown-divider"></li>  
            <li><a class="dropdown-item" href="#">  
                <div class="notification-item">  
                    <div class="notification-icon bg-primary">  
                        <i class="bi bi-calendar-check text-white"></i>  
                    </div>  
                    <div class="notification-content">  
                        <p class="mb-0"><strong>Booking Confirmed</strong></p>  
                        <p class="small text-muted mb-0">Your booking with Pet Sitter Pro has been confirmed</p>  
                        <p class="small text-muted mb-0">2 hours ago</p>  
                    </div>  
                </div>  
            </a></li>  
            <li><a class="dropdown-item" href="#">  
                <div class="notification-item">  
                    <div class="notification-icon bg-success">  
                        <i class="bi bi-chat-left-text text-white"></i>  
                    </div>  
                    <div class="notification-content">  
                        <p class="mb-0"><strong>New Message</strong></p>  
                        <p class="small text-muted mb-0">You have a new message from Jane</p>  
                        <p class="small text-muted mb-0">5 hours ago</p>  
                    </div>  
                </div>  
            </a></li>  
            <li><a class="dropdown-item" href="#">  
                <div class="notification-item">  
                    <div class="notification-icon bg-warning">  
                        <i class="bi bi-star text-white"></i>  
                    </div>  
                    <div class="notification-content">  
                        <p class="mb-0"><strong>New Review</strong></p>  
                        <p class="small text-muted mb-0">You received a 5-star review from John</p>  
                        <p class="small text-muted mb-0">1 day ago</p>  
                    </div>  
                </div>  
            </a></li>  
            <li><hr class="dropdown-divider"></li>  
            <li><a class="dropdown-item text-center" href="#">View All Notifications</a></li>  
        </ul>  
    </li>  
    <li class="nav-item dropdown">  
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">  
            <img src="@(User.FindFirst("ProfilePhotoUrl")?.Value ?? "/images/default-profile.png")" class="rounded-circle profile-pic me-1" alt="Profile">  
            <span>@User.FindFirst("FirstName")?.Value</span>  
        </a>  
        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">  
            <li><a class="dropdown-item" asp-area="" asp-controller="Dashboard" asp-action="Index"><i class="bi bi-speedometer2 me-2"></i>Dashboard</a></li>  
            <li><a class="dropdown-item" asp-area="" asp-controller="Account" asp-action="Profile"><i class="bi bi-person me-2"></i>My Profile</a></li>  
            <li><a class="dropdown-item" asp-area="" asp-controller="Bookings" asp-action="Index"><i class="bi bi-calendar-check me-2"></i>My Bookings</a></li>  
            <li><a class="dropdown-item" asp-area="" asp-controller="Messages" asp-action="Index"><i class="bi bi-chat-left-text me-2"></i>Messages</a></li>  
            <li><hr class="dropdown-divider"></li>  
            <li>  
                <form class="form-inline" asp-controller="Account" asp-action="Logout">  
                    <button type="submit" class="dropdown-item"><i class="bi bi-box-arrow-right me-2"></i>Logout</button>  
                </form>  
            </li>  
        </ul>  
    </li>  
}  
else  
{  
    <li class="nav-item">  
        <a class="nav-link btn btn-outline-light me-2" asp-controller="Account" asp-action="Login">Login</a>  
    </li>  
    <li class="nav-item">  
        <a class="nav-link btn btn-light" asp-controller="Account" asp-action="Register">Sign Up</a>  
    </li>  
}  
</ul>
